<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exegeses of the Quran</title>
    
    <script src="http://tafsir.fussilat.com/qdata.js?v=1.0"></script>
    <script src="http://tafsir.fussilat.com/tafsir_existence.js?v=1.3"></script>
    <script src="http://tafsir.fussilat.com/navigation.js?v=1.20"></script>
    <script src="http://tafsir.fussilat.com/sheets.js"></script>
    <script src="http://tafsir.fussilat.com/tafsirs.js?v=1.10"></script>
    <script src="http://tafsir.fussilat.com/onload.js?v=1.3"></script>
    <link rel="stylesheet" href="http://tafsir.fussilat.com/styles.css?v=1.4">

    <!--
    <script src="qdata.js?v=1.0"></script>
    <script src="tafsir_existence.js?v=1.3"></script>
    <script src="navigation.js?v=1.16"></script>
    <script src="heets.js"></script>
    <script src="tafsirs.js?v=1.10"></script>
    <script src="onload.js?v=1.3"></script>
    -->  
    <script charset="UTF-8" type="text/javascript" src="http://tafsir.fussilat.com/search/textcheck.js?v=1.5"></script>
    <script charset="UTF-8" type="text/javascript" src="http://tafsir.fussilat.com/search/stats.js?v=1.0"></script>  
    <script charset="UTF-8" type="text/javascript" src="http://tafsir.fussilat.com/search/conwordreq.js?v=1.0"></script>  
    <script charset="UTF-8" type="text/javascript" src="http://tafsir.fussilat.com/search/word.js?v=1.0"></script>  
    <script charset="UTF-8" type="text/javascript" src="http://tafsir.fussilat.com/search/phrase.js?v=1.0"></script>  
    <script charset="UTF-8" type="text/javascript" src="http://tafsir.fussilat.com/search/term.js?v=1.0"></script>  
    <script charset="UTF-8" type="text/javascript" src="http://tafsir.fussilat.com/search/search.js?v=1.0"></script>
    <script charset="UTF-8" type="text/javascript" src="http://tafsir.fussilat.com/dicts/lane_info.js?v=1.0"></script>
    <script charset="UTF-8" type="text/javascript" src="http://tafsir.fussilat.com/dicts/dictFunctions.js?v=1.7"></script>
    <script charset="UTF-8" type="text/javascript" src="http://tafsir.fussilat.com/search/onLoadSearch.js?v=1.0"></script>  


</head>

<body class="site">
    <div class="title">
        <h2 title="dahs" id="title">تفاسير القرآن<br/>Exegeses of the Quran</h2>
    </div>
    <div>
        <input id="s-choose" type="text" list="surahs" placeholder="Surah" onchange="surahsChangeder()" disabled/>
        <datalist id="surahs"></datalist>
        <button class="arrows" id="vfor" onclick="backwardVerse()">&lt;</button>
        <input id="v-choose" onchange="versesChangeder()" type="number" class="svchooser" type="text" placeholder="Verse" min="1"  disabled/>
        <button class="arrows" id="vbac" onclick="forwardVerse()">&gt;</button>
        <image id="search-button" src="http://download.fussilat.com/icons/search.png" style="display: inline; width: 4%; vertical-align: middle;" onclick="document.getElementById('searchModal').style.display = 'block';"/>
        <datalist id="verses"></datalist>
    </div>
    <div id="full-verse" class="whitebox">
        <p id="verse-title">
            Loading Tafsir List...
        </p>
        <p id="arabic-verse" class="nice-arabic">
        </p>
        <p id="word-word">
        </p>
        
        <p id="eng-translation">
        </p>
    </div>
    <div class="whitebox">
        <div id="main-title" class="loading">
            <b>Main Tafsirs</b>
        </div>
        <table style="width: 100%;">
            <tr>
                <td style="width: 23%;" class="option-none" id="main-1">
                    <a  class="optionlink">
                        <div class="tafsirTitle" id="main-title-1">Tafsir Al-Quran Al-Azeem</div>
                        <div class="tafsirAuthor" id="main-author-1">Ibn Kathir</div>
                    </a>
                </td>
                <td style="width: 23%;" class="option-none" id="main-2">
                    <a  class="optionlink">
                        <div class="tafsirTitle" id="main-title-2">Maarif ul-Quran</div>
                        <div class="tafsirAuthor" id="main-author-2">Muhammad Shafi'</div>
                    </a>
                </td>
                <td style="width: 23%;" class="option-none" id="main-3">
                    <a class="optionlink" >
                        <div class="tafsirTitle" id="main-title-3">Tafheem ul-Quran</div>
                        <div class="tafsirAuthor" id="main-author-3">Abul-Aala Maududi</div>
                    </a>
                </td>
                <td style='width: 23%;' class='option-none' id='main-4'>
                    <a class='optionlink' >
                        <div class='tafsirTitle' id='main-title-4'>Tafsir Jalalayn</div>
                        <div class='tafsirAuthor' id='main-author-4'>As-Suyuti and Al-Mahalli</div>
                    </a>
                </td>
            </tr>
        </table>
        <div id="main-title" class="loading">
            <b>Other Tafsirs</b>
        </div>
        
        <table style="width: 100%;" id="tafsir-options">
            
        </table>
        <!--<div id="tafsir-options">
            < !--
                <div class="t-option" onclick="testSheet()">
                    Hello
                </div>
            -- >
            <div style='width: 25%;' class='option-none line' id='main-4'>
                <a class='optionlink' >
                    <div class='tafsirTitle' id='main-title-4'>Tafsir Jalalayn</div>
                    <div class='tafsirAuthor' id='main-author-4'>As-Suyuti and Al-Mahalli</div>
                </a>
            </div>
            <div style="width: 23%;" class="option-none line" id="main-1">
                <a  class="optionlink">
                    <div class="tafsirTitle" id="main-title-1">Tafsir Al-Quran Al-Azeem</div>
                    <div class="tafsirAuthor" id="main-author-1">Ibn Kathir</div>
                </a>
            </div>
        </div>-->
        <div id="loading" class="loading">
            Tafsirs will appear here after you choose.
        </div>
    </div>
    <div id="testfill">
        
    </div>
    
    <div class="whitebox" id="div-search" style="display: none;">
        <image src="http://download.fussilat.com/icons/search.png" id="searchbutton" onclick="document.getElementById('searchModal').style.display = 'block';"/>
    </div>
    
    <div id="tafsirModal" style="display: none;" class="modal">
        <div class="modal-content">
            <table style="height: 100%; width: 100%;">
                <tr style="height: 3em;">
                    <td>
                        <div class="modal-header">
                            <span class="close">&times;</span>
                            <div id="tafsirTitle">Tafsir</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div style="display: block;" id="tafsirText" class="modal-body">
                            <p>Some text in the Modal Body</p>
                            <p>Some other text...</p>
                        </div>
                        <table style="display: none; width: 100%;" id="split-kath" style="height: 100%; width: 100%;">
                            <tr style="height: 3em;">
                                <td style=" width: 50%;">
                                    <div style="" id="kathirEng" class="modal-body-kath">
                                        <p>Some text in the Modal Body</p>
                                        <br/><br/><br/><br/><br/><br/><br/>
                                        <p>Some other text...</p>
                                    </div>
                                </td>
                                <td>
                                    <div style="text-align: right;"  id="kathirAr" class="modal-body-kath">
                                        <p>Some text in the Modal Body</p>
                                        <br/><br/><br/><br/><br/><br/><br/>
                                        <p>Some other text...</p>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </td>
                    
                </tr>
                <tr style="height: 3em;">
                    <td>
                        <div class="modal-footer">
                            <table style="width: 100%; height: 100%;">
                                <tr>
                                    <td style="width: 10em;">
                                        <button class="tarrows" id="fbac" onclick="backwardTaf()">
                                            &lt;
                                        </button>
                                    </td>
                                    <td>

                                    </td>
                                    <td style="width: 10em;">
                                        <button class="tarrows" id="ffor" onclick="forwardTaf()">
                                            &gt;
                                        </button>
                                    </td>
                                </tr>
                            </table>
                                
                                
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div id="searchModal" style="display: none;" class="modal">
        <div class="modal-content">
            <table style="height: 100%; width: 100%;">
                <tr style="height: 3em;">
                    <td>
                        <div class="modal-header">
                            <span class="close">&times;</span>
                            <div id="tafsirTitle">Search Quran</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="topper">
                        <div>
                            
                        </div>
                        <div style="display: block;" class="modal-body two-parter">
                            <input id="inp" placeholder="Search..." style="font-size: medium; width: 100%; padding: 5px;" onchange="textchanged();" onpaste="this.onchange();" oninput="this.onchange();" />
                            <div rows="2" cols="50" id="prev" style="text-align: right; font-size: large; color: white; 
                            background-color: blue; height: 40px; padding-top: 10px; padding-bottom: 10px;">
                            </div>
                            <button id="findb" disabled="true" style="font-size: medium; width: 100%; padding-top: 10px; padding-bottom: 10px;" onclick="buttonPressed()">Find</button>
                            

                            <div id="results" style="border-width: 2px; border-color: black; margin-left: 0px; margin-right: 0px; width: 100%;">
                                
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div id="dictModal" style="display: none;" class="modal">
        <div class="modal-content">
            <table style="height: 100%; width: 100%;">
                <tr style="height: 3em;">
                    <td>
                        <div class="modal-header">
                            <span class="close">&times;</span>
                            <div id="dictTitle">Tafsir</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div id="dictText" class="modal-body two-parter">
                            <p>Some text in the Modal Body</p>
                            <p>Some other text...</p>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <script>
        var options = '';
        for (var i = 0; i < 114; i++)
        {
            options += `<option value="${(i + 1)}. ${snames[i]}"/>`;
            
            '<option value="' + (i + 1).toString() + ". " + snames[i] + '" />';
        }
        document.getElementById('surahs').innerHTML = options;  
        //loadTafsirList();
        
        var span = document.getElementsByClassName("close");
        var modal = document.getElementById("tafsirModal");
        var modalSearch = document.getElementById("searchModal");
        var modalDict = document.getElementById("dictModal");

        // When the user clicks on <span> (x), close the modal
        for (var i = 0; i < span.length; i++)
        {
            span[i].onclick = function() 
            {
                modal.style.display = "none";
                modalSearch.style.display = "none";
                modalDict.style.display = "none";
                window.history.pushState(null, '', `/${(parseInt(CurrentSurah) + 1).toString()}/${CurrentVerse.toString()}`);
                //modal2.style.display = "none";
                //versesChanged();
            }
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) 
        {
            if (event.target == modal || event.target == modalSearch|| event.target == modalDict) 
            {
                modal.style.display = "none";
                modalSearch.style.display = "none";
                modalDict.style.display = "none";
                window.history.pushState(null, '', `/${(parseInt(CurrentSurah) + 1).toString()}/${CurrentVerse.toString()}`);
                //versesChanged();
            }
        }
        useUrl();
    </script>
</body>


